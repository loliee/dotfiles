---

sudo: required

language: bash

matrix:
  include:
    - os: linux
      sudo: required
      bash: 3.2
      services:
        - docker
      script:
        - docker run -v "${PWD}:/root/dotfiles" debian:jessie bash -c "cd /root/dotfiles; ./.install.sh"
    - os: osx
      osx_image: xcode7.3
      bash: 3.2
      script:
        - ./.install.sh

before_script:
  - mkdir "$HOME/bin"
  - curl -Lso "$HOME/bin/shellcheck" https://github.com/caarlos0/shellcheck-docker/releases/download/v0.4.3/shellcheck
  - chmod +x "$HOME/bin/shellcheck"
  - git clone https://github.com/sstephenson/bats.git "$HOME/bats"
  - ln -s "$HOME/bats/libexec/bats" "$HOME/bin/bats"
  - export PATH=$PATH:$HOME/bin
